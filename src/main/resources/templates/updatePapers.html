<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Study Buddy</title>
        <link rel="stylesheet" href="/css/style.css">
    </head>
    <body>
        <header>
            <div class="banner">
                <h2><a href="/home">Study Buddy</a></h2>
                <a href="/findStudyPeers">Find Study Peers</a>
                <a href="#">Find Tutors</a>
                <a href="/team">Teams</a>
                <a href="/chat">Inbox</a>
                <div class="dropdown">
                    <button class="dropbtn">Menu</button>
                    <div class="dropdown-content">
                        <a href="/settings">Account Info</a>
                        <a href="#">Log Out</a>
                    </div>
                </div>
            </div>
        </header>
        <ul id="nav">
            <li><a href="/aboutStudent" onclick="showSection('aboutYou')">About You</a></li>
            <li><a href="/preferences" onclick="showSection('preferences')">Preferences</a></li>
            <li><a href="blocked" onclick="showSection('blockedUsers')">Blocked Users</a></li>
            <li><a href="blacklist" onclick="showSection('blacklistedUsers')">Blacklisted Users</a></li>
            <li><a href="/updatePapers" onclick="showSection('updatePapers')">Add your paper</a></li>
        </ul>

        <div id="aboutYou" class="content">
            <h2>About You</h2>
            <p>Manage your personal information and how others see your profile.</p>
        </div>

        <div id="preferences" class="content">
            <h2>Preferences</h2>
            <p>Customize your preferences for your potential study buddies.</p>
        </div>

        <div id="blockedUsers" class="content">
            <h2>Blocked Users</h2>
            <p>View and manage users you have blocked from contacting you.</p>
        </div>

        <div id="blacklistedUsers" class="content">
            <h2>Blacklisted Users</h2>
            <p>View and manage users you have blacklisted from seeing your content.</p>
        </div>

        <div id="updatePapers" class="content">
            <h2>Add your paper</h2>
            <p>Add your paper to our database for faster matching between study buddies!</p>
        </div>
        <form>
            <div id="classesContainer">
                <div class="form-group">
                    <label for="class1">Class:</label>
                    <input type="text" id="class1" name="class1" placeholder="e.g., MART112, ECON201" 
                           pattern="[A-Za-z]{4}[0-9]{3}" oninput="checkInput(this)">
                </div>
                <p id="error-message" style="color: red; display: none;">Class code must be 4 letters followed by 3 numbers.</p>
            </div>
            <button type="button" onclick="addClass()">Add Another Class</button>

            <script>
                function checkInput(input) {
                    const pattern = /^[A-Za-z]{4}[0-9]{3}$/;
                    const errorMessage = document.getElementById('error-message');
                    if (input.value.match(pattern)) {
                        input.setCustomValidity('');
                        errorMessage.style.display = 'none';
                    } else {
                        input.setCustomValidity('Invalid');
                        errorMessage.style.display = 'block';
                    }
                }

                function addClass() {
                    const allInputs = document.querySelectorAll('#classesContainer input[type="text"]');
                    const lastInput = allInputs[allInputs.length - 1]; // Get the last input element

                    // Check if the last input has been touched and is valid
                    if (lastInput.value === '') {
                        alert("Please enter information in the existing class field before adding another.");
                        return;
                    }

                    if (!lastInput.checkValidity()) {
                        alert("Please correct the existing class information before adding another.");
                        return;
                    }

                    const container = document.getElementById('classesContainer');
                    const newFormGroup = document.createElement('div');
                    newFormGroup.classList.add('form-group');
                    const newInputCount = allInputs.length + 1;
                    newFormGroup.innerHTML = `<label for="class${newInputCount}">Class:</label><input type="text" id="class${newInputCount}" name="class${newInputCount}" placeholder="e.g., MART112, ECON201" pattern="[A-Za-z]{4}[0-9]{3}" oninput="checkInput(this)">`;
                    container.appendChild(newFormGroup);
                }
            </script>
            <button type="submit">Submit</button>
        </form>

</html>
