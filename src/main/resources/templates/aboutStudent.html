<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Study Buddy</title>
<link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header>
    <div class="banner">
      <h2><a href="/home">Study Buddy</a></h2>
      <a href="#">Find Tutors</a>
      <a href="/addPaper">Add Papers</a>
      <a href="/team">Teams</a>
      <a href="/chat">Inbox</a>
      <div class="dropdown">
          <button class="dropbtn">Menu</button>
          <div class="dropdown-content">
              <a href="/settings">Settings</a>
              <a href="#">Log Out</a>
          </div>
      </div>
  </div>
  </header>
  
<body>
    
    <form id="studentForm">
      <div class="form-group">
          <label for="name">Name:</label>
          <input type="text" id="name" name="name" placeholder="e.g., John Smith" required>
      </div>

      <div class="form-group">
          <label for="gender">Gender:</label>
          <select id="gender" name="gender">
            <option value="notSelected">Not Selected</option>
              <option value="female">Female</option>
              <option value="male">Male</option>
              <option value="non-binary">Non-binary</option>
              <option value="other">Other</option>
              <option value="prefer not to say">Prefer not to say</option>
          </select>
      </div>

      <div class="form-group">
          <label for="pronouns">Pronouns:</label>
          <input type="text" id="pronouns" name="pronouns" placeholder="e.g., she/her, he/him, they/them">
      </div>

      <div id="classesContainer">
        <div class="form-group">
            <label for="class1">Class:</label>
            <input type="text" id="class1" name="class1" placeholder="e.g., MART112, ECON201" 
                   pattern="[A-Za-z]{4}[0-9]{3}" oninput="checkInput(this)">
        </div>
        <p id="error-message" style="color: red; display: none;">Class code must be 4 letters followed by 3 numbers.</p>
    </div>
    <button type="button" onclick="addClass()">Add Another Class</button>
    
    <script>
    function checkInput(input) {
        const pattern = /^[A-Za-z]{4}[0-9]{3}$/;
        const errorMessage = document.getElementById('error-message');
        if (input.value.match(pattern)) {
            input.setCustomValidity('');
            errorMessage.style.display = 'none';
        } else {
            input.setCustomValidity('Invalid');
            errorMessage.style.display = 'block';
        }
    }
    
    function addClass() {
        const allInputs = document.querySelectorAll('#classesContainer input[type="text"]');
        const lastInput = allInputs[allInputs.length - 1]; // Get the last input element
    
        // Check if the last input has been touched and is valid
        if (lastInput.value === '') {
            alert("Please enter information in the existing class field before adding another.");
            return;
        }
    
        if (!lastInput.checkValidity()) {
            alert("Please correct the existing class information before adding another.");
            return;
        }
    
        const container = document.getElementById('classesContainer');
        const newFormGroup = document.createElement('div');
        newFormGroup.classList.add('form-group');
        const newInputCount = allInputs.length + 1;
        newFormGroup.innerHTML = `<label for="class${newInputCount}">Class:</label><input type="text" id="class${newInputCount}" name="class${newInputCount}" placeholder="e.g., MART112, ECON201" pattern="[A-Za-z]{4}[0-9]{3}" oninput="checkInput(this)">`;
        container.appendChild(newFormGroup);
    }
    </script>
    

      <button type="submit">Submit</button>
  </form>


</body>
</html>